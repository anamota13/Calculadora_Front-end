<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Calculadora</title>
  <style>
    body {
      background-color: #f0f4f8;
      font-family: Arial, sans-serif;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
    }

    .calculator {
      background-color: #fff;
      padding: 20px;
      border-radius: 16px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      width: 320px;
    }

    .display {
        width: 90%;
        height: 50px;
        font-size: 24px;
        padding: 10px;
        margin: 0 auto 20px auto;
        text-align: right;
        border: 1px solid #ccc;
        border-radius: 8px;
        background-color: #f9f9f9;
        display: block;
    }


    .buttons {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
    }

    .buttons button {
      font-size: 18px;
      padding: 15px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      background-color: #007bff;
      color: #fff;
      transition: background-color 0.2s;
    }

    .buttons button:hover {
      background-color: #0056b3;
    }

    .buttons button:active {
      transform: scale(0.98);
    }

    .buttons button:nth-child(17) {
      grid-column: span 2;
      background-color: #dc3545;
    }

    .buttons button:nth-child(17):hover {
      background-color: #c82333;
    }
  </style>
</head>
<body>
  <div class="calculator">
    <input type="text" class="display" disabled>
    <div class="buttons">
      <button>+</button>
      <button>7</button>
      <button>8</button>
      <button>9</button>
      <button>/</button>
      <button>4</button>
      <button>5</button>
      <button>6</button>
      <button>*</button>
      <button>1</button>
      <button>2</button>
      <button>3</button>
      <button>-</button>
      <button>0</button>
      <button>.</button>
      <button>=</button>
      <button>AC</button>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const display = document.querySelector('.display');
      const buttons = document.querySelectorAll('.buttons button');

      buttons.forEach(button => {
        button.addEventListener('click', () => {
          const value = button.textContent;
          if (value === 'AC') {
            display.value = '';
          } else if (value === '=') {
            calcular(display.value);
          } else {
            display.value += value;
          }
        });
      });

      async function calcular(expressao) {
        const operadores = ['+', '-', '*', '/'];
        let operador;

        for (const op of operadores) {
          if (expressao.includes(op)) {
            operador = op;
            break;
          }
        }

        if (!operador) {
          display.value = 'Erro';
          return;
        }

        const [a, b] = expressao.split(operador).map(Number);

        if (isNaN(a) || isNaN(b)) {
          display.value = 'Erro';
          return;
        }

        let url = '';

        switch (operador) {
          case '+':
            url = `https://calculadora-soma.vercel.app/api/add?a=${a}&b=${b}`;
            break;
          case '-':
            url = `https://calculadora-subtracao.vercel.app/api/sub?a=${a}&b=${b}`;
            break;
          case '*':
            url = `https://calculadora-multiplicacao.vercel.app/api/mul?a=${a}&b=${b}`;
            break;
          case '/':
            url = `https://calculadora-divisao.vercel.app/api/div?a=${a}&b=${b}`;
            break;
        }

        try {
          const res = await fetch(url);
          const data = await res.json();
          display.value = data.result ?? 'Erro';
        } catch (error) {
          display.value = 'Erro';
        }
      }
    });
  </script>
</body>
</html>
